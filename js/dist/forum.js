module.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=6)}([function(e,t){e.exports=flarum.core.compat.app},function(e,t){e.exports=flarum.core.compat["common/helpers/highlight"]},function(e,t){e.exports=flarum.core.compat["common/extend"]},function(e,t){e.exports=flarum.core.compat["forum/components/Search"]},function(e,t){e.exports=flarum.core.compat["common/components/LinkButton"]},function(e,t){e.exports=flarum.core.compat["common/components/Link"]},function(e,t,r){"use strict";r.r(t);var n=r(0),o=r.n(n),s=r(2),a=r(3),u=r.n(a),i=r(1),c=r.n(i),l=r(4),f=r.n(l),p=r(5),d=r.n(p),h=function(){function e(){this.results=new Map}var t=e.prototype;return t.search=function(e){var t=this;e=e.toLowerCase(),this.results.set(e,[]);var r={filter:{q:e},page:{limit:3},include:"mostRelevantPost"};return o.a.request(o.a.forum.attribute("apiUrl")+"/blomstra/search",r).then((function(r){return t.results.set(e,r)}))},t.view=function(e){e=e.toLowerCase();var t=(this.results.get(e)||[]).map((function(t){var r=t.mostRelevantPost();return m("li",{className:"DiscussionSearchResult","data-index":"discussions"+t.id()},m(d.a,{href:o.a.route.discussion(t,r&&r.number())},m("div",{className:"DiscussionSearchResult-title"},c()(t.title(),e)),r?m("div",{className:"DiscussionSearchResult-excerpt"},c()(r.contentPlain(),e,100)):""))}));return[m("li",{className:"Dropdown-header"},o.a.translator.trans("core.forum.search.discussions_heading")),m("li",null,m(f.a,{icon:"fas fa-search",href:o.a.route("index",{q:e})},o.a.translator.trans("core.forum.search.all_discussions_button",{query:e})))].concat(t)},e}();o.a.initializers.add("blomstra-search",(function(){Object(s.extend)(u.a.prototype,"sourceItems",(function(e){e.remove("users"),e.remove("discussions"),e.add("discussions",new h),console.log(e)}))}))}]);
//# sourceMappingURL=forum.js.map